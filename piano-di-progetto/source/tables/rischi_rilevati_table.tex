\newcommand*\risktable{}
\foreach \x [count=\nj] in \problems
{
    \foreach \y [count=\ni] in \x
    {
        \xappto\risktable{\y}
        \gappto\risktable{\\}
        \gappto\risktable{\hline}
    }
}

% Impostazioni della tabella
\tabulinesep = 2mm % padding
\taburowcolors [1] 2{pari .. dispari} % colori delle righe
\begin{longtabu} to \textwidth {| X[0.1,c m] |} % larghezza delle colonne
\hline
\rowcolor{header} % colore dell'header

\risktable

\end{longtabu}

\undef\risktable{}
